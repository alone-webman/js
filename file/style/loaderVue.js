!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).loaderVue=t()}(this,function(){"use strict";const e={app(e,t){let r=document.getElementById(e);return r||(r=document.createElement("div"),r.setAttribute("id",e),document.body.appendChild(r)),t&&(r.innerHTML=t),r},bar(e){let t=document.getElementById(e);return t||(t=document.createElement("div"),t.setAttribute("id",e),t.style.display="none",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.zIndex="9999",document.body.prepend(t)),t.innerHTML=`<div class="layui-progress" lay-showPercent="true" lay-filter="${e}"><div class="layui-progress-bar layui-bg-primary" lay-percent="0%" style="height:3px;border-radius:0;"></div></div>`,t},setTitle(e){if(e){let t=document.getElementsByTagName("title")[0];t||(t=document.createElement("title"),document.getElementsByTagName("head")[0].appendChild(t)),document.title=e}},setMetaTag(e,t){if(t){let r=document.querySelector(`meta[name="${e}"]`);r||(r=document.createElement("meta"),r.name=e,document.head.appendChild(r)),r.content=t}},parseHTML(e,t="text/html",r=!0){if("undefined"!=typeof DOMParser&&!0===r)return(new DOMParser).parseFromString(e,t);const o=document.implementation.createHTMLDocument("");return o.documentElement.innerHTML=e,o},getPath(e,t=""){const r=this.trim(e),o=r.startsWith("http://")||r.startsWith("https://"),s=new URL(t,o?r:"https://r.c/"+r);return this.rtrim(o?s.href:s.pathname)},blob:(e,t="js")=>URL.createObjectURL(new Blob([e],{type:{js:"application/javascript",css:"text/css",html:"text/html"}[t]||t})),trim(e,t="/"){const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=new RegExp(`^${r}+|${r}+$`,"g");return e.replace(o,"")},rtrim(e,t="/"){const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=new RegExp(`${r}+$`,"g");return e.replace(o,"")},getPathFormat(e){const t=e.replace(/[?#].*$/,"").match(/\.([a-zA-Z0-9]+)$/);return t&&t[1]||""},uuid:()=>Date.now().toString(36)+Math.random().toString(36).substring(2),hash(e){let t=2166136261;for(let r=0;r<e.length;r++)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return(t>>>0).toString(16).padStart(8,"0")},xhr:async(e,t,r=!0,o=null)=>new Promise((s,n)=>{const a=new XMLHttpRequest;a.open("GET",e,!0),a.timeout=t;const i=e=>{!0===r?n(e):s({code:400,xhr:a,type:"error",data:e})};a.onload=()=>{a.status>=200&&a.status<300&&s({code:200,xhr:a,type:a.getResponseHeader("content-type"),data:a.responseText}),i(`HTTP Error: ${a.status}`)},a.ontimeout=()=>i("Request timeout"),a.onerror=()=>i("Network error"),(o&&"function"==typeof o&&o(a)||a).send()}),getParams(e="",t={}){const r=window.location.href,o=r.indexOf("?");if(-1!==o){const e={};r.substring(o).split("#")[0].slice(1).split("&").forEach(t=>{if(t){const[r,o]=t.split("=");e[r]=decodeURIComponent(o||"")}}),Object.assign(t,e)}if(e){if(!t||0===Object.keys(t).length)return e;const r=new URL(e,window.location.origin);return Object.keys(t).forEach(e=>{r.searchParams.append(e,t[e])}),r.toString()}return t}},t=e=>{const t=new WeakMap,r={id:Symbol(e)};!t.has(r)&&t.set(r,new Map);const o=t.get(r);return{set(e,t){return o.set(e,t),this},get:(e,t=void 0)=>o.has(e)?o.get(e):t}},r=t("VueCache"),o=t("StyleCache"),s=function(t,n,a={}){const i=Object.assign({fullPath:"",isPage:!0,importType:[],cache:!0,isBlob:!1,timeout:5e3,progress:null,req:(e,t,r,o)=>e,importName:"_aloneExport_",alone:"alone",uuid:e.hash(a.fullPath||e.uuid()),body:t,bodyType:n},a);return{parseDoc:null,templateElem:null,scriptElem:null,styleElem:null,scopedId:`data-v-${i.uuid}`,template:"",styleCode:"",scopedCode:"",async vueCode(){let t;if(i.bodyType&&i.importType&&i.importType.includes(i.bodyType.split(",")[0]))t=await import(e.blob(i.body));else{this.parseDoc=e.parseHTML(i.body),this.templateElem=this.parseDoc.querySelectorAll("template");const r=this.templateElem.length>0?await this.processHtml():i.body;if(!r)return{template:this.template||"No content"};{const e=this.delImportFrom(r),o=await this.getImportParam(r);t=await this.execCode(e,o)}}return this.export(t)},async getImportParam(t){let o={};const n=this.getImportFrom(t);return Object.keys(n).length>0&&await Promise.all(Object.keys(n).map(async t=>{let a=(n[t]||{}).method;if(a&&Object.keys(a).length>0){let n,l=e.getPath(i.fullPath,t);const c=e.hash(l);let u=!1;if(i.cache){let e=r.get(c);e&&(u=!0,n=e)}if(!u){const o=await e.xhr(l,i.timeout,!0,function(e){return h.callBar(i.progress,e)}),a=h.callReq(i.req,o.data,t,o.type,o.xhr),u={...i};n=await s(a,o.type,Object.assign({},{...u},{fullPath:l,isPage:!1,body:a,bodyType:o.type})).vueCode(),i.cache&&r.set(c,n)}Object.keys(a).forEach(e=>{let t=a[e];o[e]="*"===t?n:t!=e?n[t]:n[t]||n.default})}})),o},async execCode(t,r){t=this.template?this.addExportCode(t,`\ntemplate:\`${this.template}\`,\n`):t;let o=this.convertFunction(t,r,i.isBlob?"export default":"return");if(o=this.removeComments(o,"js"),i.isBlob){return(await import(e.blob(o))).default(r)}return new Function(o)()(r)},convertFunction(e,t={},r="return"){const o=i.importName;let s=this.convertCode(e,o).trimEnd();return s=s.endsWith(";")?s:s+";",`${r} function(${o}){\n${o}=${o}||{};\n${Object.keys(t).map(e=>`let ${e} = ${o}.${e};`).join("\n")}\n${s}\nreturn ${o};\n}`},export(e){return i.isPage?this.aloneHead(e.default||e):e},convertCode(e,t=""){const r=t||i.importName;return e.replace(/export\s+(?:(async)\s+)?(default|const|let|var|function|class)\s*(\w*)(?:\s*=\s*)?\s*(async\s+)?([^;{]*[;{])/g,(e,t,o,s,n,a)=>{switch(a=a.trim(),o){case"default":switch(s){case"class":return`${r}.default = class ${a}`;case"async":return`${r}.default = ${a.startsWith("class")?"":"async "}${a}`;case"function":return`${r}.default = function${a}`}return`${r}.default = ${a}`;case"const":case"let":case"var":if(!s)break;return a.includes("=>")||a.includes("function")?`${r}.${s} = ${t||n?"async ":""}${a}`:`${r}.${s} = ${a}`;case"function":return`${r}.${s} = ${t||n?"async ":""}function${a}`;case"class":return`${r}.${s} = class${a}`}return e})},async processHtml(){for(const e of this.templateElem)this.template+=e.innerHTML+"\n";this.templateElem.forEach(e=>e.parentNode.removeChild(e)),this.scriptElem=this.parseDoc.querySelectorAll("script");let e="";for(const t of this.scriptElem)e+=t.textContent+"\n";this.scriptElem.forEach(e=>e.parentNode.removeChild(e)),this.styleElem=this.parseDoc.querySelectorAll("style");for(const e of this.styleElem)e.hasAttribute("scoped")?this.scopedCode+=e.textContent+"\n":this.styleCode+=e.textContent+"\n";let t=!1;if(i.cache){let e=o.get(i.uuid);e&&(t=!0,this.styleCode=e.styleCode,this.scopedCode=e.scopedCode)}return t||(this.styleCode=await this.handleStyle(this.styleCode,i.fullPath),this.styleCode=this.removeComments(this.styleCode,"css"),this.scopedCode=await this.handleStyle(this.scopedCode,i.fullPath),this.scopedCode=this.removeComments(this.scopedCode,"css"),i.cache&&o.set(i.uuid,{styleCode:this.styleCode,scopedCode:this.scopedCode})),this.styleCode&&this.loadStyle(this.styleCode,"global"),this.scopedCode&&(this.scopedCode=this.addScopedIdToCss(this.scopedCode),this.loadStyle(this.scopedCode,"scoped"),this.addScopedIdToTemplate()),e},getImportFrom(t){const r={};return[...t.matchAll(/import\s+([\s\S]*?)\s+from\s+['"](.*?)['"]/g)].forEach(t=>{let o={};const s=e.trim(e.trim(t[2].trim(),"{"),"}"),n=e.trim(e.trim(t[1].trim(),"{"),"}").split(",").map(t=>e.trim(e.trim(t.trim(),"{"),"}")).filter(Boolean);n.forEach(e=>{if(e.includes(" as ")){const[t,r]=e.split(" as ").map(e=>e.trim());o[r]=t}else{const t=e.trim();o[t]=t}}),r[s]?(r[s].method=Object.assign(r[s].method,o),r[s].specifier.push(n)):r[s]={method:o,specifier:[n]}}),r},async handleStyle(t,r,s=null){if((s=s||this.getImportUrl(t)).length>0){const n=/@import\s*(url\()?\s*['"]([^'"]+)['"]\s*(\))?\s*([^;]*);/g;t=t.replace(n,""),await Promise.all(s.map(async s=>{const n=e.getPath(r,s?.path),a=e.hash(n);let l=!1;if(i.cache){let e=o.get(a);e&&(l=!0,t+=e+"\n")}if(!l){const r=await e.xhr(n,i.timeout,!1,function(e){return h.callBar(i.progress,e)});if(200==r?.code&&r?.data){const e=this.getImportUrl(r?.data);e.length>0?t+=await this.handleStyle(r?.data,n,e)+"\n":t+=r.data+"\n",i.cache&&o.set(a,t)}}}))}return t},loadStyle(t,r){if(!document.querySelector(`[v-${this.scopedId}="${r}"]`)){let o;i.isBlob?(o=document.createElement("link"),o.setAttribute("href",e.blob(t,"css")),o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet")):(o=document.createElement("style"),o.textContent=t),o.setAttribute(`v-${this.scopedId}`,r),document.head.appendChild(o)}return this},getImportUrl:e=>[...e.matchAll(/@import\s*(url\()?\s*['"]([^'"]+)['"]\s*(\))?\s*([^;]*);/g)].map(e=>({fullMatch:e[0],path:e[2].trim(),conditions:e[4]?.trim()})),delImportFrom:e=>e.replace(/^\s*import\s+(?:(?:\*\s+as\s+)?[\w{},\s]+?\s+from\s+)?['"][^'"]+['"];?\s*$/gm,""),removeComments:(e,t="js")=>(e=e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/(?<!\\)\/\/.*$/gm,"").replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").replace(/^\s*\n/gm,""),"js"===t?e.replace(/([{}();,:[\]])\s+/g,(e,t)=>"}"===t?"}\n":t).replace(/\s+([{}();,:[\]])/g,"$1"):e.replace(/\s*([{}:;,>+()[\]])\s*/g,"$1").replace(/;}/g,"}")),addScopedIdToTemplate(e=!0){if(e)this.template=`<div ${this.scopedId}>${this.template}</div>`;else{const e=document.createElement("div");e.innerHTML=this.template;e.querySelectorAll("*").forEach(e=>{e.hasAttribute(this.scopedId)||e.setAttribute(this.scopedId,"")}),this.template=e.innerHTML}return this.template},addScopedIdToCss(e,t=!0){return t?e.replace(/([^{}]*){/g,(e,t)=>t.split(",").map(e=>`\r\n[${this.scopedId}] ${e.trim()}`).join(",")+"{"):e.replace(/([^{]+){/g,(e,t)=>t.trim().startsWith("@")?e:`${t}[${this.scopedId}] {`)},aloneHead(t){if(!i.alone)return t;const r=t[i.alone]||null;return r?"string"==typeof r?(e.setTitle(r),t):(e.setTitle(r?.title),e.setMetaTag("keywords",r?.description),e.setMetaTag("description",r?.description),r?.head?(Object.keys(r?.head).forEach(e=>{const t=r?.head[e]||{attr:{}};if(t.tag&&!document.querySelector(`[data-head="${e}"]`)){let r=document.createElement(t.tag);r.setAttribute("data-head",e),Object.keys(t?.attr||{}).forEach(e=>{r.setAttribute(e,t?.attr[e])}),t.content&&(r.textContent=t.content),document.head.appendChild(r)}}),t):t):t},addExportCode(e,t){const r=/export\s+default\s*{/;if(r.test(e))return e.replace(r,e=>`${e}\n    ${t.trim()}`);const o=/(\s*)(return\s*{)/g,s=[/export\s+default\s+async\s+function\s*\([^)]*\)\s*{/,/export\s+default\s+function\s*\([^)]*\)\s*{/,/export\s+default\s*\([^)]*\)?\s*=>\s*{/];for(const r of s)if(r.test(e)){o.lastIndex=e.search(r)+1;const s=o.exec(e);if(s){const r=s[1];return e.replace(s[0],`${s[0]}\n${r}    ${t.trim()}`)}}return e}}},n={domain:"/",path:"index",format:"html",timeout:5e3,progress:null,req:(e,t,r,o)=>e,isBlob:!1,importType:null,cache:!0,importName:"_import_",alone:"alone"},a=function(e,t,r,o){switch(e){case"domain":case"path":case"format":case"importName":case"alone":"string"===r&&(o=t);break;case"timeout":"number"===r&&(o=t);break;case"progress":case"req":"function"===r&&(o=t);break;case"isBlob":case"cache":"boolean"===r&&(o=t);break;case"importType":"object"===r?o=Array.isArray(t)?t:Object.values(t):"string"===r&&(o=t.split(","))}return o},i=function(e,t,r,o,s){return e&&"function"==typeof e&&e(t,r,o,s)||t},l=t("loaderCache"),c=t("VueCache"),u=function(e,t){const r=l.get("xhrBar");return"number"==typeof t?(e&&e(100),r&&r(100)):t&&(t.onprogress=t=>{if(t.lengthComputable){const o=(t.loaded/t.total*100).toFixed(2);e&&e(o),r&&r(o)}}),t};var h={loader:function(t={},r=!0){const o=function(e,t,r,o=!0){const s={},n=t,a={check:(e,t)=>"function"==typeof r?r(e,t,typeof t,n[e]):t,set(e,t){return s[e]=this.check(e,t),s[e]},get:e=>void 0===e?s:s[e],conf(e,t){return"object"==typeof e?(Object.keys(e).forEach(e=>{this.set(e,t[e])}),e):void 0===e?s:void 0===t?this.get(e):this.set(e,t)}};return o?Object.keys(n).forEach(t=>s[t]=a.set(t,e[t])):Object.assign(s,n,e),a}(t,n,a,r),l=function(e,t,r,n=!0){return s(e,t,{fullPath:r,isPage:n,importType:o.conf("importType"),isBlob:o.conf("isBlob"),timeout:o.conf("timeout"),progress:o.conf("progress"),req:o.conf("req"),importName:o.conf("importName"),alone:o.conf("alone"),cache:o.conf("cache")})};return{utils:e,conf:(e,t)=>o.conf(e,t),create(t={}){const{createApp:r}="undefined"!=typeof Vue?Vue:null,o=r("object"==typeof t?t:{components:{aloneTemplate:this.getRouteComponent(t)},template:"<aloneTemplate></aloneTemplate>"});return o.load=function(t,r,s){return e.app(t),o.mount(`#${t}`,r,s)},o},getRouteComponent(e="",{full:t=!1,error:r=!0,isPage:o=!0}={}){const{defineAsyncComponent:s}="undefined"!=typeof Vue?Vue:null;return s(async()=>this.getRouteFile(e,{full:t,error:r,isPage:o}))},async getRouteFile(t="",{full:r=!1,error:s=!0,isPage:n=!0}={}){try{let a,h=r?t:e.rtrim(o.conf("domain"))+"/"+e.trim(t||o.conf("path"));h=e.getPathFormat(h)?h:h+"."+o.conf("format");const p=e.hash(h);let d=!1;if(o.conf("cache")){let e=c.get(p);e&&(d=!0,a=e)}if(d)l("","",h,n).export(a);else{const r=await e.xhr(e.getParams(h),o.conf("timeout"),s,function(e){return u(o.conf("progress"),e)}),l=i(o.conf("req"),r.data,t,r.type,r.xhr);a=await this.vueCode(l,r.type,h,n),o.conf("cache")&&c.set(p,a)}return u(o.conf("progress"),100),a}catch(s){throw s}},vueCode:async(e,t,r,o=!0)=>await l(e,t,r,o).vueCode()}},delConfig:n,checkConfig:a,callBar:u,callReq:i,xhrBar:function(e){"function"==typeof e&&l.set("xhrBar",e)}};let p={barStatus:!1};const d=()=>{p.barIndex&&layer.close(p.barIndex)};class m{constructor(e={}){this.loadConf={},this.plugin={lay:"undefined"==typeof layui?null:layui,vue:"undefined"==typeof Vue?null:Vue,i18n:"undefined"==typeof VueI18n?null:VueI18n,router:"undefined"==typeof VueRouter?null:VueRouter},this.loader=h.loader(e)}delay(e){return p.delay=e,this}bar(e=1){return p.bar=e,this}lang(e={},t={}){return p.lang=Object.assign({locale:"zh",fallbackLocale:"en",messages:t},e),this}route(e={},t=[]){return p.route=Object.assign({routes:t},e),this}home(e,t={}){return p.home=e,p.group=t,this}routeType(e=1){return p.routeType=e,this}routeError(e){return p.routeError=e,this}errPath(e){return p.errPath=e,this}routeLoader(e){return p.routeLoader=e,this}init(t="app",r=null){return p.Appid=t,this.app=this.loader.create(r||{template:"<router-view></router-view>"}),!0===p.bar&&(p.barStatus=!0,p.barId=e.uuid(),p.barElem=e.bar(`${p.barId}`),h.xhrBar(e=>{e>=100?setTimeout(()=>{p.barElem.style.display="none",this.plugin.lay.element.progress(`${p.barId}`,e+"%")},p.delay):(p.barElem.style.display="block",this.plugin.lay.element.progress(`${p.barId}`,e+"%"))})),p.lang&&(this.i18nConfig=Object.assign({locale:"zh",fallbackLocale:"en"},p.lang),this.i18n=this.plugin.i18n.createI18n(this.i18nConfig),this.app.use(this.i18n)),p.route&&(this.routeConfig=Object.assign({history:this.plugin.router.createWebHashHistory()},p.route)),p.home&&(this.routeConfig=this.routeConfig?this.routeConfig:{history:this.plugin.router.createWebHashHistory(),routes:[]},this.routeConfig.routes.push({path:"/",name:"alone-index-page",...this.component({url:p.home,view:"/",parent:[],layout:!1,level:1,end:!0})})),p.group&&"object"==typeof p.group&&Object.keys(p.group).length>0&&(this.routeConfig=this.routeConfig?this.routeConfig:{history:this.plugin.router.createWebHashHistory(),routes:[]},this.groupConfig=this.groupRoute(p.group,this.component),this.groupConfig.length>0&&(this.routeConfig.routes=this.routeConfig.routes.concat(this.groupConfig))),this.routeConfig&&(this.routeConfig.routes.push({path:"/:pathMatch(.*)*",name:"alone-path-match",...this.component({url:"/",view:"/:pathMatch(.*)*",parent:[],layout:!1,level:1,end:!0})}),this.router=this.plugin.router.createRouter(this.routeConfig),p.bar&&(this.router.beforeEach((e,t,r)=>{if(!e.matched.length){const e=p.errPath;return e&&r(e),!1}p.barStatus||!0===p.bar||(p.barIndex=layer.load(p.bar)),r()}),this.router.afterEach(()=>d()),this.router.onError(()=>d())),this.app.use(this.router)),this.app.load(p.Appid),window.loaderVueThis=this,this.loadConf=p,this}vue(e=null){const{proxy:t,appContext:r}=this.plugin.vue.getCurrentInstance(),o=r?.config?.globalProperties||{};return null===e?t:!0===e?Object.assign(t,o):o}getLang(e,t){const r=this.i18n.global.t(e);return void 0===t||r!==e?r:t}setLang(e,t="",r=!0){const o=t||this.i18n.global.locale;return r?this.i18n.global.mergeLocaleMessage(o,e):this.i18n.global.setLocaleMessage(o,e)}jumpRoute(e,{name:t="",params:r={},query:o={},hash:s=""}={}){this.router.push({path:e,name:t,params:r,query:o,hash:s})}getRoute(e=""){return e?this.router.currentRoute.value[e]:this.router.currentRoute.value}getRoutes(){return this.router.getRoutes()}component({url:t,view:r,parent:o,layout:s,level:n,end:a}={}){const i=e=>{const{shallowRef:t,onMounted:r}=loaderVueThis.plugin.vue,o=t(null);return{template:"<div v-html='loaderComponent'></div>",setup:()=>(r(()=>{const t=p.routeLoader;o.value="function"==typeof t?t(e):""}),{loaderComponent:o})}},l=e=>{const{shallowRef:t,onMounted:r}=loaderVueThis.plugin.vue,o=t(null);return{template:"<div v-html='errorComponent'></div>",props:["error"],setup:t=>(r(()=>{const r=p.routeError;o.value="function"==typeof r?r(e,t.error):`<center><h1>${t.error.message}</h1></center>`}),{errorComponent:o})}};return{meta:{url:t,view:r,parent:o,layout:s,level:n,end:a},component:{template:"<component :is='aloneComponent'></component>",setup(){const{shallowRef:r,watch:n,watchEffect:a,defineAsyncComponent:c}=loaderVueThis.plugin.vue,u=r(null),h=async r=>{const n=(t=>{t=t||{params:{pathMatch:t.params.path}};const r=t?.params?.pathMatch||t?.params?.path;return e.trim((Array.isArray(r)?r.join("/"):r)||"")})(r);let a=s?t:t+"/"+n;a=e.trim(a),o&&0!==o.length&&o.includes(a)||(u.value=c({loader:async()=>{try{return await loaderVueThis.loader.getRouteFile(a)}catch(e){const t=p.errPath;throw t&&loaderVueThis.jumpRoute(t),e}},loadingComponent:i(a),errorComponent:l(a),delay:p.delay||200,timeout:loaderVueThis.loader.conf("timeout")||5e3}))},d=()=>n(()=>loaderVueThis.router.currentRoute.value,h,{immediate:!0});switch(p.routeType||1){case 1:default:d();break;case 2:a(()=>h(loaderVueThis.router.currentRoute.value));break;case 3:loaderVueThis.router.isReady().then(async()=>await h(loaderVueThis.router.currentRoute.value)),loaderVueThis.plugin.router.onBeforeRouteUpdate(async e=>await h(e))}return{aloneComponent:u}}}}}groupRoute(e,t,r=""){if(!e)return[];const o=[];for(const[s,n]of Object.entries(e)){const e=s.replace(/\//g,"-"),a="string"==typeof n?n.split(","):[n],i=a[0];let l;l=i.startsWith("/")?i.substring(1):i.startsWith("./")?`${s}/${i.substring(2)}`:`${s}/${i}`;const c=r?`/${r}/${s}`:`/${s}`,u=r?`${r}-${e}`:e,h={path:c,name:u,children:[],...t({url:l,view:c,parent:[],layout:!0,level:1,end:!1}||{})};if(a.length>1){let e=h,r=[l],o=2;for(let n=1;n<a.length;n++){const i=a[n];let l,c=i;i.startsWith("/")?(l=i.substring(1),c=i.substring(1)):i.startsWith("./")?(l=`${s}/${i.substring(2)}`,c=i.substring(2)):(l=`${s}/${i}`,c=i);const h={path:c,name:`${u}-${a.slice(0,n).map(e=>e.replace(/^\.?\//,"")).join("-")}`,children:[],...t({url:l,view:c,parent:[...r],layout:!0,level:o,end:!1}||{})};e.children.push(h),e=h,r.push(l),o++}const n=`${u}-${a.slice(0,-1).map(e=>e.replace(/^\.?\//,"")).join("-")}`;e.children=[{path:":pathMatch(.*)*",name:n,...t({url:s,view:":pathMatch(.*)*",parent:[...r],layout:!1,level:o,end:!0}||{})}]}else{const e=`${u}-${i.replace(/^\.?\//,"")}`;h.children=[{path:":pathMatch(.*)*",name:e,...t({url:s,view:":pathMatch(.*)*",parent:[l],layout:!1,level:2,end:!0}||{})}]}o.push(h)}return o}}return function(e={}){return new m(e)}});
